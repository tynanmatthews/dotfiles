(()=>{"use strict";var E={7433:(n,t)=>{var s;s={value:!0},t.A=(i,o)=>{const r=i.__vccOpts||i;for(const[a,d]of o)r[a]=d;return r}}},v={};function h(n){var t=v[n];if(t!==void 0)return t.exports;var s=v[n]={exports:{}};return E[n](s,s.exports,h),s.exports}var u={};const e=Vue,y={class:"container button-container",style:{"justify-content":"space-between"}},N={key:0,id:"error",style:{"margin-right":"10px"}},k={key:0,type:"submit",value:"Submitting...",disabled:""},V=["disabled"],S=(0,e.createElementVNode)("h3",{id:"sentiment-heading"},"How was your experience?",-1),$=(0,e.createElementVNode)("label",{for:"positive-sentiment"},null,-1),L=(0,e.createElementVNode)("label",{for:"negative-sentiment"},null,-1),x=(0,e.createElementVNode)("h3",{id:"feedback-heading"},"Feedback",-1),O={style:{"margin-bottom":"10px"}},D=(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("em",null,[(0,e.createTextVNode)("Feedback is "),(0,e.createElementVNode)("b",null,"anonymous"),(0,e.createTextVNode)(". If you need a reply, "),(0,e.createElementVNode)("a",{href:"https://github.com/aws/aws-toolkit-vscode/issues/new/choose"},"contact us on GitHub"),(0,e.createTextVNode)(".")])],-1),F=(0,e.createElementVNode)("br",null,null,-1),T=(0,e.createElementVNode)("em",null," Don't add personally identifiable information (PII), confidential or sensitive information in your feedback. Please remove any PII when sharing file paths, error messages, etc. ",-1);function C(n,t,s,i,o,r){return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createElementVNode)("div",y,[(0,e.createElementVNode)("h1",null,"Feedback for "+(0,e.toDisplayString)(n.feedbackName),1),n.error!==""?((0,e.openBlock)(),(0,e.createElementBlock)("div",N,[(0,e.createElementVNode)("strong",null,(0,e.toDisplayString)(n.error),1)])):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",null,[n.isSubmitting?((0,e.openBlock)(),(0,e.createElementBlock)("input",k)):((0,e.openBlock)(),(0,e.createElementBlock)("input",{key:1,type:"submit",onClick:t[0]||(t[0]=(...a)=>n.submitFeedback&&n.submitFeedback(...a)),disabled:n.comment.length>2e3,value:"Send"},null,8,V))])]),S,(0,e.createElementVNode)("div",null,[(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"positive-sentiment",type:"radio",value:"Positive","onUpdate:modelValue":t[1]||(t[1]=a=>n.sentiment=a)},null,512),[[e.vModelRadio,n.sentiment]]),$,(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"negative-sentiment",type:"radio",value:"Negative","onUpdate:modelValue":t[2]||(t[2]=a=>n.sentiment=a)},null,512),[[e.vModelRadio,n.sentiment]]),L]),x,(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",O,[D,F,(0,e.createElementVNode)("div",null,[T,(0,e.createElementVNode)("div",{style:{float:"right","font-size":"smaller"},id:"remaining",class:(0,e.normalizeClass)(n.comment.length>2e3?"exceeds-max-length":"")},(0,e.toDisplayString)(2e3-n.comment.length)+" characters remaining ",3)])])]),(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%","margin-bottom":"10px"},rows:"10",cols:"90","onUpdate:modelValue":t[3]||(t[3]=a=>n.comment=a)},null,512),[[e.vModelText,n.comment]])])])}class l{static registerGlobalCommands(){const t=new Event("remount");window.addEventListener("message",s=>{const{command:i}=s.data;i==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(o=>this.removeListener(o)),window.dispatchEvent(t))})}static addListener(t){this.messageListeners.add(t),window.addEventListener("message",t)}static removeListener(t){this.messageListeners.delete(t),window.removeEventListener("message",t)}static sendRequest(t,s,i){const o=JSON.parse(JSON.stringify(i)),r=new Promise((a,d)=>{const p=H=>{const c=H.data;if(t===c.id)if(this.removeListener(p),window.clearTimeout(z),c.error===!0){const J=JSON.parse(c.data);d(new Error(J.message))}else c.event?(typeof i[0]!="function"&&d(new Error(`Expected frontend event handler to be a function: ${s}`)),a(this.registerEventHandler(s,i[0]))):a(c.data)},z=setTimeout(()=>{this.removeListener(p),d(new Error(`Timed out while waiting for response: id: ${t}, command: ${s}`))},3e5);this.addListener(p)});return vscode.postMessage({id:t,command:s,data:o}),r}static registerEventHandler(t,s){const i=o=>{const r=o.data;if(r.command===t){if(!r.event)throw new Error(`Expected backend handler to be an event emitter: ${t}`);s(r.data)}};return this.addListener(i),{dispose:()=>this.removeListener(i)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(t,s)=>{if(typeof s!="string"){console.warn(`Tried to index webview client with non-string property: ${String(s)}`);return}if(s==="init"){const o=vscode.getState()??{};if(o.__once)return()=>Promise.resolve();vscode.setState(Object.assign(o,{__once:!0}))}const i=(this.counter++).toString();return(...o)=>this.sendRequest(i,s,o)}})}}l.counter=0,l.initialized=!1,l.messageListeners=new Set;const m=new Set;window.addEventListener("remount",()=>m.clear());const B={created(){if(this.$data===void 0)return;const n=vscode.getState()??{};this.$options._count=(this.$options._count??0)+1;const t=this.id??`${this.name??`DEFAULT-${m.size}`}-${this.$options._count}`;if(this.$options._unid=t,m.has(t)){console.warn(`Component "${t}" already exists. State-saving functionality will be disabled.`);return}m.add(t);const s=n[t]??{};Object.keys(this.$data).forEach(i=>{this.$data[i]=s[i]??this.$data[i]}),Object.keys(this.$data).forEach(i=>{this.$watch(i,o=>{const r=vscode.getState()??{},a=Object.assign(r[t]??{},{[i]:o!==void 0?JSON.parse(JSON.stringify(o)):void 0});vscode.setState(Object.assign(r,{[t]:a}))},{deep:!0})})}},b=l.create(),P=(0,e.defineComponent)({data(){return{comment:"",sentiment:"",isSubmitting:!1,error:"",feedbackName:""}},created(){this.getName()},methods:{async submitFeedback(){this.error="",this.isSubmitting=!0,console.log("Submitting feedback...");const n=await b.submit({comment:this.feedbackName?`${this.feedbackName} ${this.comment}`:this.comment,sentiment:this.sentiment});this.error=n??"",this.isSubmitting=!1},async getName(){const n=await b.getFeedbackName();typeof n=="string"&&(this.feedbackName=n)}},mixins:[B]});var M=h(7433);const j=(0,M.A)(P,[["render",C]]);const _=()=>(0,e.createApp)(j),g=_();g.mount("#vue-app"),window.addEventListener("remount",()=>{g.unmount(),_().mount("#vue-app")});var f=this;for(var w in u)f[w]=u[w];u.__esModule&&Object.defineProperty(f,"__esModule",{value:!0})})();
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
